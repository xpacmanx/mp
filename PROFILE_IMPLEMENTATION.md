# Реализация профиля пользователя

Реализация страницы профиля пользователя с возможностью редактирования личных данных.

## Завершенные задачи

- [x] Создать компонент ProfileView.vue
- [x] Добавить маршрут /profile в роутер
- [x] Добавить ссылку на профиль в Header компонент
- [x] Обновить ProfileImageCropper для работы с новыми событиями
- [x] Создать файл задач для отслеживания прогресса

## В процессе

- [ ] Протестировать функциональность профиля

## Завершенные задачи

- [x] Создать компонент ProfileView.vue
- [x] Добавить маршрут /profile в роутер
- [x] Добавить ссылку на профиль в Header компонент
- [x] Обновить ProfileImageCropper для работы с новыми событиями
- [x] Создать файл задач для отслеживания прогресса
- [x] Добавить валидацию полей формы
- [x] Использовать mpr.js вместо axios для запросов
- [x] Использовать существующий эндпоинт /users/{id}/ для обновления профиля
- [x] Добавить загрузку актуальных данных через /users/me/

## Завершенные задачи

- [x] Создать компонент ProfileView.vue
- [x] Добавить маршрут /profile в роутер
- [x] Добавить ссылку на профиль в Header компонент
- [x] Обновить ProfileImageCropper для работы с новыми событиями
- [x] Создать файл задач для отслеживания прогресса
- [x] Добавить валидацию полей формы
- [x] Использовать mpr.js вместо axios для запросов
- [x] Использовать существующий эндпоинт /users/{id}/ для обновления профиля

## Завершенные задачи

- [x] Создать компонент ProfileView.vue
- [x] Добавить маршрут /profile в роутер
- [x] Добавить ссылку на профиль в Header компонент
- [x] Обновить ProfileImageCropper для работы с новыми событиями
- [x] Создать файл задач для отслеживания прогресса
- [x] Добавить валидацию полей формы

## Будущие задачи

- [ ] Добавить уведомления об успешном сохранении
- [ ] Добавить возможность изменения пароля
- [ ] Добавить дополнительные поля профиля (телефон, адрес и т.д.)
- [ ] Добавить анимации и улучшить UX

## План реализации

### Архитектура
- ProfileView - основной компонент страницы профиля
- ProfileImageCropper - компонент для обрезки фото профиля
- Интеграция с существующей системой аутентификации

### Поток данных
1. Загрузка данных пользователя из userState
2. Отображение формы с текущими данными
3. Редактирование полей (имя, фамилия, дата рождения)
4. Загрузка и обрезка фото профиля
5. Сохранение изменений через API
6. Обновление данных в userState

### Соответствующие файлы

- `src/views/ProfileView.vue` - Основная страница профиля ✅
- `src/components/ProfileImageCropper.vue` - Компонент обрезки фото ✅
- `src/router/index.js` - Маршрут /profile ✅
- `src/components/navigation/Header.vue` - Ссылка на профиль ✅
- `src/tools/userState.js` - Управление данными пользователя ✅

### Технические детали

#### Поля профиля
- **Имя** (firstName) - редактируемое
- **Фамилия** (lastName) - редактируемое  
- **Дата рождения** (birthDate) - редактируемое
- **Email** - только для чтения
- **Роль** - только для чтения
- **Фото профиля** - редактируемое через кроппер

#### API Endpoints
- `GET /users/me/` - получение актуальных данных профиля
- `PATCH /users/{id}/` - обновление данных профиля (использует существующий эндпоинт)

#### Валидация
- Имя и фамилия: обязательные, минимум 2 символа
- Дата рождения: валидная дата, не в будущем
- Фото: максимальный размер 10MB, форматы JPG/PNG 