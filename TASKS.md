# Сервис поставок: управление товарами, складами и рекламой

Веб-приложение для управления поставками, товарами, складами и рекламными задачами на маркетплейсах (WB, Ozon и др.).

## Completed Tasks

- [x] Реализована аутентификация пользователя (LoginView, AuthManager, userState)
- [x] Исправлены проблемы с авторизацией (дублирование модальных окон, неправильный выход, пустой экран)
- [x] Реализована логика различения первичного входа и потери токена (AuthGuard, wasAuthenticated)
- [x] Основная навигация и Header/Menu
- [x] Просмотр и детализация товаров (ProductListView, ProductDetailsView)
- [x] Просмотр и детализация складов (WarehousesView)
- [x] Просмотр и детализация рекламных задач (AdvListView, AdvDetailsView)
- [x] Просмотр и детализация задач к поставкам (SupplytasksDashboardView, SupplytaskView)
- [x] Создание новых задач к поставкам (NewSupplyTaskView, NewSupplyTaskView2)
- [x] Компоненты сортировки и фильтрации (SortingComponent)
- [x] Уведомления (Notifications)

## In Progress Tasks

- [ ] Модуль пользователей
    - [ ] Страница со списком пользователей (UserListView.vue)
    backend: /users
    - [ ] Добавление нового пользователя (UserForm.vue)
    - [ ] Редактирование пользователя
    - [ ] Управление правами и ролями пользователей
    - [ ] Интеграция с навигацией и роутером
- [ ] Реализация профиля пользователя и настроек (Header.vue: закомментированные роуты)
- [ ] Расширение фильтрации и сортировки по задачам и товарам

## Implementation Plan

### Архитектура авторизации
- **AuthManager.vue** - центральный компонент управления авторизацией
- **LoginModal.vue** - модальное окно для входа в систему
- **userState.js** - управление состоянием пользователя
- **auth.js** - функции авторизации и работы с токенами
- **router/index.js** - навигационные guards для защиты маршрутов

### Поток авторизации
1. При загрузке приложения проверяется наличие токена
2. Если токен отсутствует или истек - показывается модальное окно логина
3. После успешного входа обновляется состояние пользователя
4. При выходе очищается состояние и показывается модальное окно логина

### Relevant Files

- ✅ `src/components/auth/AuthManager.vue` - управление авторизацией
- ✅ `src/components/auth/LoginModal.vue` - модальное окно входа
- ✅ `src/tools/auth.js` - функции авторизации
- ✅ `src/tools/userState.js` - состояние пользователя
- ✅ `src/router/index.js` - навигационные guards
- ✅ `src/App.vue` - главный компонент приложения
- ✅ `src/components/navigation/Header.vue` - навигация с выходом
- ✅ `src/views/LoginView.vue` - страница входа 